
<div class="api-module">
  <h1 class="module-name" id="ServiceBroker">ServiceBroker</h1><code class="signature">new ServiceBroker(options)</code>
  <p class="description">Service broker class</p>
  <ul class="tags">
  </ul>
  <div class="api-members">
    <h2 id="ServiceBroker-instances">Instance Members</h2>
    <ul>
      <li class="api-member">
        <h3 class="api-member-name" id="member-constructor">constructor</h3><code class="signature">constructor(options: any)</code>
        <p class="description">Creates an instance of ServiceBroker.</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-constructor-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>options</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-start">start</h3><code class="signature">start()</code>
        <p class="description">Start broker. If has transporter, transporter.connect will be called.</p>
        <ul class="tags">
        </ul>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-stop">stop</h3><code class="signature">stop()</code>
        <p class="description">Stop broker. If has transporter, transporter.disconnect will be called.</p>
        <ul class="tags">
        </ul>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-repl">repl</h3><code class="signature">repl()</code>
        <p class="description">Start REPL mode</p>
        <ul class="tags">
        </ul>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-getLogger">getLogger</h3><code class="signature">getLogger(name: String)</code>
        <p class="description">Get a custom logger for sub-modules (service, transporter, cacher, context...etc)</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-getLogger-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>name</code></td>
              <td class="type"><code>String</code></td>
              <td>-</td>
              <td class="description">name of module</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-fatal">fatal</h3><code class="signature">fatal(message: String, err, needExit: boolean)</code>
        <p class="description">Fatal error. Print the message to console (if logger is not exists). And exit the process (if need)</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-fatal-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>message</code></td>
              <td class="type"><code>String</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>err</code></td>
              <td></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>needExit</code></td>
              <td></td>
              <td class="default"><code>true</code></td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-loadServices">loadServices</h3><code class="signature">loadServices(folder: string, fileMask: string): Number</code>
        <p class="description">Load services from a folder</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-loadServices-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>folder</code></td>
              <td></td>
              <td class="default"><code>&quot;./services&quot;</code></td>
              <td class="description">Folder of services</td>
            </tr>
            <tr>
              <td class="name"><code>fileMask</code></td>
              <td></td>
              <td class="default"><code>&quot;*.service.js&quot;</code></td>
              <td class="description">Service filename mask</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-loadService">loadService</h3><code class="signature">loadService(filePath, Path: string): Service</code>
        <p class="description">Load a service from file</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-loadService-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>Path</code></td>
              <td class="type"><code>string</code></td>
              <td>-</td>
              <td class="description">of service</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-createService">createService</h3><code class="signature">createService(schema: any, schemaMods): Service</code>
        <p class="description">Create a new service by schema</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-createService-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>schema</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">Schema of service</td>
            </tr>
            <tr>
              <td class="name"><code>schemaMods</code></td>
              <td></td>
              <td>-</td>
              <td class="description">Modified schema</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-registerLocalService">registerLocalService</h3><code class="signature">registerLocalService(service: Service)</code>
        <p class="description">Register a local service</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-registerLocalService-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>service</code></td>
              <td class="type"><code>Service</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-registerRemoteService">registerRemoteService</h3><code class="signature">registerRemoteService(nodeID: any, service: any)</code>
        <p class="description">Register a remote service</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-registerRemoteService-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>nodeID</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">NodeID if it is on a remote server/node</td>
            </tr>
            <tr>
              <td class="name"><code>service</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-registerAction">registerAction</h3><code class="signature">registerAction(nodeID: any, action: any)</code>
        <p class="description">Register an action in a local server</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-registerAction-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>nodeID</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">NodeID if it is on a remote server/node</td>
            </tr>
            <tr>
              <td class="name"><code>action</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">action schema</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-wrapAction">wrapAction</h3><code class="signature">wrapAction(action: any)</code>
        <p class="description">Wrap action handler for middlewares</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-wrapAction-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>action</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-unregisterServicesByNode">unregisterServicesByNode</h3><code class="signature">unregisterServicesByNode(nodeID: String)</code>
        <p class="description">Unregister services by node</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-unregisterServicesByNode-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>nodeID</code></td>
              <td class="type"><code>String</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-unregisterAction">unregisterAction</h3><code class="signature">unregisterAction(nodeID: any, action: any)</code>
        <p class="description">Unregister an action on a local server. 
It will be called when a remote node disconnected.</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-unregisterAction-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>nodeID</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">NodeID if it is on a remote server/node</td>
            </tr>
            <tr>
              <td class="name"><code>action</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">action schema</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-registerInternalActions">registerInternalActions</h3><code class="signature">registerInternalActions()</code>
        <p class="description">Register internal actions</p>
        <ul class="tags">
        </ul>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-on">on</h3><code class="signature">on(name: any, handler: any)</code>
        <p class="description">Subscribe to an event</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-on-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>name</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>handler</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-once">once</h3><code class="signature">once(name: any, handler: any)</code>
        <p class="description">Subscribe to an event once</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-once-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>name</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>handler</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-off">off</h3><code class="signature">off(name: any, handler: any)</code>
        <p class="description">Unsubscribe from an event</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-off-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>name</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>handler</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-getService">getService</h3><code class="signature">getService(serviceName: any)</code>
        <p class="description">Get a local service by name</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-getService-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>serviceName</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-hasService">hasService</h3><code class="signature">hasService(serviceName: any)</code>
        <p class="description">Has a local service by name</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-hasService-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>serviceName</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-hasAction">hasAction</h3><code class="signature">hasAction(actionName: any)</code>
        <p class="description">Has an action by name</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-hasAction-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>actionName</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-getAction">getAction</h3><code class="signature">getAction(actionName: any): Object</code>
        <p class="description">Get an action by name</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-getAction-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>actionName</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-isActionAvailable">isActionAvailable</h3><code class="signature">isActionAvailable(actionName: any)</code>
        <p class="description">Check has available action handler</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-isActionAvailable-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>actionName</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-use">use</h3><code class="signature">use(mws, mw: any)</code>
        <p class="description">Add a middleware to the broker</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-use-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>mw</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-createNewContext">createNewContext</h3><code class="signature">createNewContext(action: Object, nodeID, params, opts: Object): Context</code>
        <p class="description">Create a new Context instance</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-createNewContext-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>action</code></td>
              <td class="type"><code>Object</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>nodeID</code></td>
              <td></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>params</code></td>
              <td></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>opts</code></td>
              <td class="type"><code>Object</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-call">call</h3><code class="signature">call(actionName: any, params: any, opts: any)</code>
        <p class="description">Call an action (local or remote)</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-call-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>actionName</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">name of action</td>
            </tr>
            <tr>
              <td class="name"><code>params</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">params of action</td>
            </tr>
            <tr>
              <td class="name"><code>opts</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description">options of call (optional)</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-shouldMetric">shouldMetric</h3><code class="signature">shouldMetric()</code>
        <p class="description">Check should metric the current call</p>
        <ul class="tags">
        </ul>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-emit">emit</h3><code class="signature">emit(eventName: string, payload: any): boolean</code>
        <p class="description">Emit an event (global &amp; local)</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-emit-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>eventName</code></td>
              <td class="type"><code>string</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>payload</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-emitLocal">emitLocal</h3><code class="signature">emitLocal(eventName: string, payload: any, sender, nodeID): boolean</code>
        <p class="description">Emit an event only local</p>
        <ul class="tags">
        </ul>
        <div class="api-parameters">
          <h4 id="member-emitLocal-parameters">Parameters</h4>
          <table>
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </thead>
            <tbody></tbody>
            <tr>
              <td class="name"><code>eventName</code></td>
              <td class="type"><code>string</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>payload</code></td>
              <td class="type"><code>any</code></td>
              <td>-</td>
              <td class="description"></td>
            </tr>
            <tr>
              <td class="name"><code>nodeID</code></td>
              <td></td>
              <td>-</td>
              <td class="description">of server</td>
            </tr>
          </table>
        </div>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-MOLECULER_VERSION">MOLECULER_VERSION</h3><code class="signature">MOLECULER_VERSION</code>
        <p class="description">Version of Moleculer</p>
        <ul class="tags">
        </ul>
      </li>
    </ul>
  </div>
  <div class="api-members">
    <h2 id="ServiceBroker-statics">Static Members</h2>
    <ul>
      <li class="api-member">
        <h3 class="api-member-name" id="member-MOLECULER_VERSION">MOLECULER_VERSION</h3><code class="signature">MOLECULER_VERSION</code>
        <p class="description">Version of Moleculer</p>
        <ul class="tags">
        </ul>
      </li>
      <li class="api-member">
        <h3 class="api-member-name" id="member-defaultConfig">defaultConfig</h3><code class="signature">defaultConfig</code>
        <p class="description">Default configuration</p>
        <ul class="tags">
        </ul>
      </li>
    </ul>
  </div>
</div>